### 20211205

[개발 초보를 위한 RESTful API 설계 가이드](https://velog.io/@couchcoding/%EA%B0%9C%EB%B0%9C-%EC%B4%88%EB%B3%B4%EB%A5%BC-%EC%9C%84%ED%95%9C-RESTful-API-%EC%84%A4%EA%B3%84-%EA%B0%80%EC%9D%B4%EB%93%9C?fbclid=IwAR3eSQa_7Co_Te8o7p0YewSROHiAWY7zd9P7QQ-pJGQeSsrxuUc6SvmS23Y)

- 기본적인 RESTful API 설계 가이드

[스벨트 vs 리액트, 누가 더 뛰어날까?](https://yozm.wishket.com/magazine/detail/1176/)

- 스벨트와 리액트를 비교해서 보는 스벨트에 대한 이야기
- 가상돔을 사용하지 않고 리액트 보다 조금 더 반응형이라는 말이 조금 이끌림
- 반응형 차이는 아마 리액트는 setState, useEffect 같은 훅으로 상태들이 업데이트 되는 반면 스벨트는 $ 이런 인자를 사용해서 자동으로 데이터가 표현되는듯
- 간단한 사이트를 스벨트로 만들어 보면 좋을듯
  - 근데 뭐를 만들지...?

[Request lifecycle](https://docs.nestjs.com/faq/request-lifecycle)

- Nest js Request lifecycle
- Nest js 개발하면서 이것도 모르면 안된다고 생각함
- Request -> Global middleware -> Module middleware -> Global guard -> Controller guard -> Route guard -> Global interceptor -> Controller interceptor -> Route interceptor -> Global pipes -> Controller pipes -> Route pipes -> Route parameter pipes -> Controller -> Service -> Route interceptor (POST) -> Controller interceptor (POST) -> Global interceptor (POST) -> Exception filter (route -> controller -> global) -> Response

[7 Ways to Improve Node.js Performance at Scale](https://blog.appsignal.com/2021/11/24/7-ways-to-improve-nodejs-performance-at-scale.html)

- Profile and Monitor Application
- Reduce latency through cache
- Use Timeout when I/O
- Don't serve static assets in Node js server
- Use cluster
- Scale across multiple servers with load balancing
- Utilize worker thread for CPU intensive task

[JWT: Ultimate How-To Guide With Best Practices In JavaScript](https://betterprogramming.pub/jwt-ultimate-how-to-guide-with-best-practices-in-javascript-f7ba4c48dfbd)

- JWT 토큰 가이드
- 프론트/백엔드 할 때는 세션을 이용하되 분산 서버를 할 시에는 JWT 토큰을 이용하면 좋음
- access token 을 암호화 하여 만듬
- sub 에 사용자 아이디를 저장하고 나머지 항목은 바로 읽을 수 있으므로 저장하지 않는것이 좋음
- refresh token 을 사용하는것을 추천
- access token 은 어플리케이션 메모리에 refresh token 은 로컬 스토리지나 세션 스토리지에 저장
- access token 을 authorize header 에 포함하여 요청
- access token 만료시 refresh token 사용하여 재발급
- access token 재발급시 당연히 refresh token 도 재발급
- 로그아웃시 두 token invalidate
  ![image](https://miro.medium.com/max/552/1*AYquDbJcInrxaAGnEqZDzA.png)
